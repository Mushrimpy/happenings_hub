{% extends "base.html" %} {% block title %}Followers{% endblock %} {% block
content %}

<br />

<nav aria-label="friends-pagination">
  <ul class="pagination justify-content-center mb-5">
    <li class="page-item active">
      <a class="page-link" href="{{ url_for('friends_bp.followers') }}"
        >Followers</a
      >
    </li>
    <li class="page-item">
      <a class="page-link" href="{{ url_for('friends_bp.following') }}"
        >Following</a
      >
    </li>
  </ul>
</nav>

{% if user.received_requests %}
<div class="p-4 border border-2 rounded-4 mb-5">
  <h3 class="mb-3 mx-2">Pending</h3>
  {% for request in user.received_requests %}
  <ul class="list-group list-group-flush" id="pending">
    <li
      class="list-group-item d-flex justify-content-between align-items-center"
    >
      {{ request.sender.username }}
      <div>
        <button
          type="button"
          class="btn btn-lg p-1 mx-3"
          onClick="acceptRequest('{{ request.id }}')"
          aria-label="Accept"
        >
          <span aria-hidden="true">&check;</span>
        </button>
        <button
          type="button"
          class="btn btn-lg p-1"
          onClick="declineRequest('{{ request.id }}')"
          aria-label="Decline"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    </li>

    {% endfor %}
  </ul>
</div>
{% endif %}

<div class="p-4 border border-2 rounded-4 mb-5">
  <h3 class="mb-3 mx-2">Followers</h3>
  <ul class="list-group list-group-flush" id="followers">
    {% for follower in user.followers %}
    <li
      class="list-group-item d-flex justify-content-between align-items-center"
    >
      {{ follower.username }}
      <button
        type="button"
        class="btn btn-lg p-1"
        onClick="removeFollower('{{ follower.id }}')"
        aria-label="Remove"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </li>
    {% endfor %}
  </ul>
</div>
{% endblock %}
